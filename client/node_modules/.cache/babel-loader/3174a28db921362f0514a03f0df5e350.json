{"ast":null,"code":"import TYPES from \"../actions/types\";\nconst initialState = {\n  pokemons: [],\n  pokemonsCopy: [],\n  pokemonsType: [],\n  types: [],\n  usuario: [],\n  pokedex: [],\n  detail: [],\n  pokemonsSfilter: [] ///// ESTE ES PARA LOS DOBLES FILTRADOS\n\n};\n\nfunction rootReducer() {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case TYPES.GET_DETAIL:\n      return { ...state,\n        detail: action.payload\n      };\n\n    case TYPES.GET_POKEMONS:\n      return { ...state,\n        pokemons: action.payload,\n        pokemonsCopy: action.payload\n      };\n\n    case TYPES.GET_TYPES:\n      return { ...state,\n        types: action.payload\n      };\n\n    case TYPES.GET_USER:\n      return { ...state,\n        usuario: action.payload\n      };\n\n    case TYPES.HANDLE_SORT:\n      let sortedArray = action.payload === 'AZ' ? state.pokemons.sort(function (a, b) {\n        if (a.name > b.name) {\n          return 1;\n        }\n\n        if (b.name > a.name) {\n          return -1;\n        }\n\n        return 0;\n      }) : action.payload === 'ZA' ? state.pokemons.sort(function (a, b) {\n        if (b.name > a.name) {\n          return 1;\n        }\n\n        if (a.name > b.name) {\n          return -1;\n        }\n\n        return 0;\n      }) : action.payload === \"strong\" ? state.pokemons.sort(function (a, b) {\n        return a.attack - b.attack;\n      }) : state.pokemons.sort(function (a, b) {\n        return b.attack - a.attack;\n      });\n      return { ...state,\n        pokemons: sortedArray\n      };\n    ///////////////////// ESTE FILTRADO YA FUNCIONA AL 100% SOLO         \n\n    case TYPES.FILTERED_BY_TYPE:\n      if (!state.pokemonsSfilter || state.pokemonsSfilter.length === 0) {\n        console.log(\"Aquí entro 1\");\n        const allPokemonss = state.pokemonsCopy;\n        const statusFiltered = action.payload === \"-\" ? allPokemonss : allPokemonss.filter(el => el.type[0] === action.payload || el.type[1] === action.payload);\n        return { ...state,\n          pokemons: statusFiltered,\n          pokemonsSfilter: statusFiltered\n        };\n      } else {\n        console.log(\"entro aquí 3\");\n        const allPokemonss = state.pokemonsSfilter;\n        const statusFiltered = action.payload === \"-\" ? allPokemonss : allPokemonss.filter(el => el.type[0] === action.payload || el.type[1] === action.payload);\n        return { ...state,\n          pokemons: statusFiltered,\n          pokemonsType: statusFiltered\n        };\n      }\n\n    ///////////////////////////////////////////////////////////////////\n\n    case TYPES.FILTER_BY_CREATED:\n      if (!state.pokemonsSfilter || state.pokemonsSfilter.length === 0) {\n        const allPokemonss2 = state.pokemonsCopy;\n        const statusFiltered = action.payload === \"-\" ? allPokemonss2 : action.payload === \"original\" ? allPokemonss2.filter(el => !el.createdInDB) : allPokemonss2.filter(el => el.createdInDB);\n        return { ...state,\n          pokemons: statusFiltered,\n          pokemonsType: statusFiltered\n        };\n      } else {\n        const allPokemonss3 = state.pokemonsSfilter;\n        const statusFiltered = action.payload === \"-\" ? allPokemonss3 : action.payload === \"original\" ? allPokemonss3.filter(el => !el.createdInDB) : allPokemonss3.filter(el => el.createdInDB);\n        return { ...state,\n          pokemons: statusFiltered,\n          pokemonsSfilter: statusFiltered\n        };\n      }\n\n    // if(state.pokemonsType){\n    //     const newFilt = state.pokemonsType\n    //     const newFiltered = action.payload === \"-\" ? state.pokemonsType : action.payload === \"original\" ? newFilt.filter(el => !el.createdInDB) : newFilt.filter(el => el.createdInDB)\n    //     return {\n    //         ...state,\n    //         pokemons: newFiltered,\n    //     }\n    // } else {\n    //     const allPokemons2 = state.pokemonsCopy\n    //     const createdFiltered = action.payload === \"-\" ? state.pokemonsCopy : action.payload === \"original\" ? allPokemons2.filter(el => !el.createdInDB) : allPokemons2.filter(el => el.createdInDB)\n    //     return {\n    //         ...state,\n    //         pokemons: createdFiltered,\n    //         background: background\n    //     }\n    // }\n\n    case TYPES.GET_NAME_POKEMON:\n      return { ...state,\n        pokemons: action.payload\n      };\n\n    case TYPES.SEARCH_LIVE:\n      if (state.pokemonsType) {\n        let nuevoPoke = action.payload.length > 0 ? state.pokemonsType.filter(el => el.name.includes(action.payload.toLowerCase())) : state.pokemonsType;\n        return { ...state,\n          pokemons: nuevoPoke\n        };\n      } else {\n        let nuevoPoke = action.payload.length > 0 ? state.pokemonsCopy.filter(el => el.name.includes(action.payload.toLowerCase())) : state.pokemonsCopy;\n        return { ...state,\n          pokemons: nuevoPoke\n        };\n      }\n\n    case TYPES.POST_POKEMON:\n      return { ...state\n      };\n\n    default:\n      return {\n        state\n      };\n  }\n}\n\nexport default rootReducer;","map":{"version":3,"names":["TYPES","initialState","pokemons","pokemonsCopy","pokemonsType","types","usuario","pokedex","detail","pokemonsSfilter","rootReducer","state","action","type","GET_DETAIL","payload","GET_POKEMONS","GET_TYPES","GET_USER","HANDLE_SORT","sortedArray","sort","a","b","name","attack","FILTERED_BY_TYPE","length","console","log","allPokemonss","statusFiltered","filter","el","FILTER_BY_CREATED","allPokemonss2","createdInDB","allPokemonss3","GET_NAME_POKEMON","SEARCH_LIVE","nuevoPoke","includes","toLowerCase","POST_POKEMON"],"sources":["/Users/horussinhue/Desktop/PI-Pokemon/client/src/reducer/index.js"],"sourcesContent":["\nimport TYPES from \"../actions/types\";\n\nconst initialState = {\n    pokemons: [],\n    pokemonsCopy: [],\n    pokemonsType: [],\n    types: [],\n    usuario: [],\n    pokedex: [],\n    detail: [],\n    pokemonsSfilter: [] ///// ESTE ES PARA LOS DOBLES FILTRADOS\n}\n\n\nfunction rootReducer (state=initialState, action) {\n    switch(action.type){\n        \n        case TYPES.GET_DETAIL:\n            return {\n                ...state,\n                detail: action.payload \n            }\n\n        case TYPES.GET_POKEMONS:\n            return {\n                ...state,\n                pokemons: action.payload,\n                pokemonsCopy: action.payload\n            }\n        \n        case TYPES.GET_TYPES:\n            return {\n                ...state,\n                types: action.payload\n            }\n        \n        case TYPES.GET_USER:\n            return {\n                ...state,\n                usuario: action.payload\n            }\n\n        case TYPES.HANDLE_SORT:\n            let sortedArray = action.payload  === 'AZ' ? state.pokemons.sort(function(a, b){\n                if(a.name > b.name) {\n                    return 1;\n                }\n                if(b.name > a.name) {\n                    return -1\n                }\n                return 0\n            }) : action.payload === 'ZA' ? state.pokemons.sort(function(a, b){\n                if(b.name > a.name) {\n                    return 1;\n                }\n                if(a.name > b.name) {\n                    return -1\n                }\n                return 0\n            }) : action.payload === \"strong\" ? state.pokemons.sort(function(a, b){\n                return a.attack - b.attack\n            }) : state.pokemons.sort(function(a, b) {\n                return b.attack - a.attack\n            })\n            return{\n                ...state,\n                pokemons: sortedArray\n            }\n        \n///////////////////// ESTE FILTRADO YA FUNCIONA AL 100% SOLO         \n        case TYPES.FILTERED_BY_TYPE:\n\n        if(!state.pokemonsSfilter || state.pokemonsSfilter.length === 0 ){\n             console.log(\"Aquí entro 1\")\n            const allPokemonss = state.pokemonsCopy\n            const statusFiltered = action.payload === \"-\" ? allPokemonss : allPokemonss.filter(el => el.type[0] === action.payload || el.type[1] === action.payload)\n            return {\n                ...state,\n                pokemons: statusFiltered,\n                pokemonsSfilter: statusFiltered\n            }\n        } else {\n            console.log(\"entro aquí 3\")\n            const allPokemonss = state.pokemonsSfilter\n            const statusFiltered = action.payload === \"-\" ? allPokemonss : allPokemonss.filter(el => el.type[0] === action.payload || el.type[1] === action.payload)\n            return {\n                ...state,\n                pokemons: statusFiltered,\n                pokemonsType: statusFiltered\n            }\n        }\n\n///////////////////////////////////////////////////////////////////\n\n        case TYPES.FILTER_BY_CREATED:\n\n            if(!state.pokemonsSfilter || state.pokemonsSfilter.length === 0){\n                const allPokemonss2 = state.pokemonsCopy\n                const statusFiltered = action.payload === \"-\" ? allPokemonss2 : action.payload === \"original\" ? allPokemonss2.filter(el => !el.createdInDB) : allPokemonss2.filter(el => el.createdInDB)\n                return {\n                    ...state,\n                    pokemons: statusFiltered,\n                    pokemonsType: statusFiltered\n                }\n            } else {\n                const allPokemonss3 = state.pokemonsSfilter\n                const statusFiltered = action.payload === \"-\" ? allPokemonss3 : action.payload === \"original\" ? allPokemonss3.filter(el => !el.createdInDB) : allPokemonss3.filter(el => el.createdInDB)\n                return {\n                    ...state,\n                    pokemons: statusFiltered,\n                    pokemonsSfilter: statusFiltered\n                }\n            }\n\n\n\n\n            // if(state.pokemonsType){\n            //     const newFilt = state.pokemonsType\n            //     const newFiltered = action.payload === \"-\" ? state.pokemonsType : action.payload === \"original\" ? newFilt.filter(el => !el.createdInDB) : newFilt.filter(el => el.createdInDB)\n            //     return {\n            //         ...state,\n            //         pokemons: newFiltered,\n            //     }\n            // } else {\n            //     const allPokemons2 = state.pokemonsCopy\n            //     const createdFiltered = action.payload === \"-\" ? state.pokemonsCopy : action.payload === \"original\" ? allPokemons2.filter(el => !el.createdInDB) : allPokemons2.filter(el => el.createdInDB)\n            //     return {\n            //         ...state,\n            //         pokemons: createdFiltered,\n            //         background: background\n            //     }\n            // }\n        \n        case TYPES.GET_NAME_POKEMON:\n            return {\n                ...state,\n                pokemons: action.payload\n            }\n\n        case TYPES.SEARCH_LIVE:\n            \n            if(state.pokemonsType){\n                let nuevoPoke = action.payload.length > 0 ? state.pokemonsType.filter(el => el.name.includes(action.payload.toLowerCase())) : state.pokemonsType\n\n            return {\n                ...state,\n                pokemons: nuevoPoke\n            }\n            } else {\n                let nuevoPoke = action.payload.length > 0 ? state.pokemonsCopy.filter(el => el.name.includes(action.payload.toLowerCase())) : state.pokemonsCopy\n\n            return {\n                ...state,\n                pokemons: nuevoPoke\n            }\n            }\n\n        case TYPES.POST_POKEMON:\n            return {\n                ...state,\n            }\n            \n\n            \n        \n        default:\n            return {\n                state\n            }\n    }\n}\n\n\n\nexport default rootReducer;"],"mappings":"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"},"metadata":{},"sourceType":"module"}